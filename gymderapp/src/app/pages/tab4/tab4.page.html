<ion-header no-border>
  <ion-toolbar>
    <ion-title>
      PERFIL DE USUARIO
     </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()"
                  color="danger">
        <ion-icon slot="icon-only" name="exit"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-row class="top-20">

    <ion-col size="12" text-center class="center img">
      <img src="assets/avatars/{{ usuario.avatar }}" class="img-avatar">
    </ion-col>

  </ion-row>

  <ion-row>
    <ion-col>
      <ion-slides [options]="avatarSlide">
        <ion-slide *ngFor="let avatar of avatars">
          <ion-img
            class="pick-avatar"
            src="/assets/avatars/{{avatar.img}}"
            [ngClass]="{ 'pick-avatar-seleccionado': avatar.seleccionado }"
            (click)="seleccionarAvatar( avatar )"
          ></ion-img>
        </ion-slide>
      </ion-slides>
    </ion-col>
  </ion-row>

  <ion-row class="top-20" >
    <ion-col size="12" text-center>
      <ion-label>
        <h1 >Actualizar perfil</h1>
      </ion-label>
    </ion-col>
  </ion-row>




  <form  [formGroup]="editarPerfilForm">
      <ion-row>
        <ion-col>

            <ion-list>

              <ion-item>
                <ion-label color = "primary">Email</ion-label>
                <ion-input name="email"
                           type="email"
                           formControlName="email"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label color = "primary">Nombre</ion-label>
                <ion-input name="nombre"
                           type="text"
                           formControlName="nombre"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="floating" color = "primary">Contrase単a:</ion-label>
                  <ion-input [type]="passwordinput" formControlName="password"></ion-input>
                  <button  item-end  class="btn_eye_icon" (click) = "VistaPassword()">
                    <ion-icon [name]="iconpassword"></ion-icon>
                </button>
              </ion-item>
            <p *ngIf="editarPerfilForm.controls['password'].hasError('required')">
            <!-- <p *ngIf="!formControls.password.valid && !formControls.password.touched"> -->
            <ion-label color="danger">Las contrase単as tienen que coincidir</ion-label>
            </p>

              <ion-item>
                <ion-label position="floating" color = "primary">Confirmar Contrase単a:</ion-label>
                  <ion-input [type]="confirmpasswordinput" formControlName="confirmpassword"></ion-input>
                  <button  item-end  class="btn_eye_icon" (click) = "VistaConfirmPassword()">
                    <ion-icon [name]="iconconfirmpassword"></ion-icon>
                </button>
              </ion-item>
             <!--  <p *ngIf="editarPerfilForm.controls['confirmpassword'].hasError('required') || editarPerfilForm.controls['confirmpassword'].hasError('checkPassword')"> -->
              <p *ngIf="editarPerfilForm.controls['confirmpassword'].hasError('required')">

                <ion-label color="danger">Se ha de rellenar este campo</ion-label>
                </p>
              <p *ngIf="editarPerfilForm.hasError('checkPassword')">

              <ion-label color="danger">Las contrase単as tienen que coincidir</ion-label>
              </p>

            </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col text-center>
          <ion-button type="submit"
                      color="tertiary"
                      shape="round"
                      (click) = "actualizar()">
          Actualizar
        </ion-button>
      </ion-col>
    </ion-row>

  </form>


</ion-content>

